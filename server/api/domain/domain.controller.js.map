{"version":3,"sources":["api/domain/domain.controller.js"],"names":["index","create","destroy","req","res","next","Domain","findAll","where","userId","user","id","then","json","data","catch","body","name","classkey","price","existing","status","deleteDomain","params","domain","rep"],"mappings":";;;;;QAGgBA,K,GAAAA,K;QAOAC,M,GAAAA,M;QAQAC,O,GAAAA,O;;AAlBhB;;;;AACA;;;;;;AAEO,SAASF,KAAT,CAAeG,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AACpC,SAAO,gBAAGC,MAAH,CACJC,OADI,CACI,EAAEC,OAAO,EAAEC,QAAQN,IAAIO,IAAJ,CAASC,EAAnB,EAAT,EADJ,EAEJC,IAFI,CAEC;AAAA,WAAQR,IAAIS,IAAJ,CAASC,IAAT,CAAR;AAAA,GAFD,EAGJC,KAHI,CAGEV,IAHF,CAAP;AAID;;AAEM,SAASJ,MAAT,CAAgBE,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;AAAA,kBACOF,IAAIa,IADX;AAAA,MAC7BC,IAD6B,aAC7BA,IAD6B;AAAA,MACvBC,QADuB,aACvBA,QADuB;AAAA,MACbC,KADa,aACbA,KADa;AAAA,MACNC,QADM,aACNA,QADM;;AAErC,SAAO,gBAAGd,MAAH,CACJL,MADI,CACG,EAAEgB,UAAF,EAAQC,kBAAR,EAAkBC,YAAlB,EAAyBC,kBAAzB,EAAmCC,QAAQ,CAA3C,EAA8CZ,QAAQN,IAAIO,IAAJ,CAASC,EAA/D,EADH,EAEJC,IAFI,CAEC;AAAA,WAAQR,IAAIS,IAAJ,CAASC,IAAT,CAAR;AAAA,GAFD,EAGJC,KAHI,CAGEV,IAHF,CAAP;AAID;;AAEM,SAASH,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2BC,IAA3B,EAAiC;AACtC,SAAO,kBACJiB,YADI,CACSnB,IAAIoB,MAAJ,CAAWC,MADpB,EAEJZ,IAFI,CAEC,UAACa,GAAD;AAAA,WAASrB,IAAIS,IAAJ,CAASY,GAAT,CAAT;AAAA,GAFD,EAGJV,KAHI,CAGEV,IAHF,CAAP;AAID","file":"domain.controller.js","sourcesContent":["import db from '../../conn/sqldb';\nimport Hosting from '../../components/hosting/hosting';\n\nexport function index(req, res, next) {\n  return db.Domain\n    .findAll({ where: { userId: req.user.id } })\n    .then(data => res.json(data))\n    .catch(next);\n}\n\nexport function create(req, res, next) {\n  const { name, classkey, price, existing } = req.body;\n  return db.Domain\n    .create({ name, classkey, price, existing, status: 1, userId: req.user.id })\n    .then(data => res.json(data))\n    .catch(next);\n}\n\nexport function destroy(req, res, next) {\n  return Hosting\n    .deleteDomain(req.params.domain)\n    .then((rep) => res.json(rep))\n    .catch(next);\n}\n"]}