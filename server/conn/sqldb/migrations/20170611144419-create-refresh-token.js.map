{"version":3,"sources":["conn/sqldb/migrations/20170611144419-create-refresh-token.js"],"names":["require","engine","timestamps","keys","module","exports","up","queryInterface","DataTypes","createTable","id","allowNull","autoIncrement","primaryKey","type","INTEGER","userId","sessionId","appId","refreshToken","STRING","expires","DATE","down","dropTable"],"mappings":";;;;;;;;eAAqCA,QAAQ,cAAR,C;IAA7BC,M,YAAAA,M;IAAQC,U,YAAAA,U;IAAYC,I,YAAAA,I;;AAE5BC,OAAOC,OAAP,GAAiB;AACfC,IADe,cACZC,cADY,EACIC,SADJ,EACe;AAC5B,WAAOD,eAAeE,WAAf,CAA2B,gBAA3B,EAA6C,sBAAc;AAChEC,UAAI;AACFC,mBAAW,KADT;AAEFC,uBAAe,IAFb;AAGFC,oBAAY,IAHV;AAIFC,cAAMN,UAAUO;AAJd,OAD4D;AAOhEC,cAAQb,KAAK,OAAL,CAPwD;AAQhEc,iBAAWd,KAAK,UAAL,CARqD;AAShEe,aAAOf,KAAK,MAAL,CATyD;AAUhEgB,oBAAc;AACZL,cAAMN,UAAUY,MADJ;AAEZT,mBAAW;AAFC,OAVkD;AAchEU,eAAS;AACPP,cAAMN,UAAUc,IADT;AAEPX,mBAAW;AAFJ;AAduD,KAAd,EAkBjDT,WAAW,CAAX,CAlBiD,CAA7C,EAkBYD,MAlBZ,CAAP;AAmBD,GArBc;AAsBfsB,MAtBe,gBAsBVhB,cAtBU,EAsBM;AACnB,WAAOA,eAAeiB,SAAf,CAAyB,gBAAzB,CAAP;AACD;AAxBc,CAAjB","file":"20170611144419-create-refresh-token.js","sourcesContent":["const { engine, timestamps, keys } = require('../helper.js');\n\nmodule.exports = {\n  up(queryInterface, DataTypes) {\n    return queryInterface.createTable('refresh_tokens', Object.assign({\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER,\n      },\n      userId: keys('users'),\n      sessionId: keys('sessions'),\n      appId: keys('apps'),\n      refreshToken: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      expires: {\n        type: DataTypes.DATE,\n        allowNull: false,\n      },\n    }, timestamps(3)), engine);\n  },\n  down(queryInterface) {\n    return queryInterface.dropTable('refresh_tokens');\n  },\n};\n"]}