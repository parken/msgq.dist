{"version":3,"sources":["conn/sqldb/migrations/20170611144055-create-app.js"],"names":["require","engine","timestamps","keys","module","exports","up","queryInterface","DataTypes","createTable","id","type","INTEGER","autoIncrement","primaryKey","allowNull","unique","userId","name","STRING","clientId","clientSecret","redirectUri","then","addColumn","down","dropTable"],"mappings":";;;;;;;;eAAqCA,QAAQ,cAAR,C;IAA7BC,M,YAAAA,M;IAAQC,U,YAAAA,U;IAAYC,I,YAAAA,I;;AAE5BC,OAAOC,OAAP,GAAiB;AACfC,IADe,cACZC,cADY,EACIC,SADJ,EACe;AAC5B,WAAOD,eAAeE,WAAf,CAA2B,MAA3B,EAAmC,sBAAc;AACtDC,UAAI;AACFC,cAAMH,UAAUI,OADd;AAEFC,uBAAe,IAFb;AAGFC,oBAAY,IAHV;AAIFC,mBAAW,KAJT;AAKFC,gBAAQ;AALN,OADkD;AAQtDC,cAAQd,KAAK,OAAL,CAR8C;AAStDe,YAAMV,UAAUW,MATsC;AAUtDC,gBAAUZ,UAAUW,MAAV,CAAiB,EAAjB,CAV4C;AAWtDE,oBAAcb,UAAUW,MAAV,CAAiB,EAAjB,CAXwC;AAYtDG,mBAAad,UAAUW;AAZ+B,KAAd,EAavCjB,WAAW,CAAX,CAbuC,CAAnC,EAaYD,MAbZ,EAcJsB,IAdI,CAcC;AAAA,aAAMhB,eAAeiB,SAAf,CAAyB,OAAzB,EAAkC,OAAlC,EAA2CrB,KAAK,MAAL,CAA3C,CAAN;AAAA,KAdD,CAAP;AAeD,GAjBc;AAkBfsB,MAlBe,gBAkBVlB,cAlBU,EAkBM;AACnB,WAAOA,eAAemB,SAAf,CAAyB,MAAzB,CAAP;AACD;AApBc,CAAjB","file":"20170611144055-create-app.js","sourcesContent":["const { engine, timestamps, keys } = require('../helper.js');\n\nmodule.exports = {\n  up(queryInterface, DataTypes) {\n    return queryInterface.createTable('apps', Object.assign({\n      id: {\n        type: DataTypes.INTEGER,\n        autoIncrement: true,\n        primaryKey: true,\n        allowNull: false,\n        unique: true,\n      },\n      userId: keys('users'),\n      name: DataTypes.STRING,\n      clientId: DataTypes.STRING(64),\n      clientSecret: DataTypes.STRING(64),\n      redirectUri: DataTypes.STRING,\n    }, timestamps(3)), engine)\n      .then(() => queryInterface.addColumn('users', 'appId', keys('apps')));\n  },\n  down(queryInterface) {\n    return queryInterface.dropTable('apps');\n  },\n};\n"]}