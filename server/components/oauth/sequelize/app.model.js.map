{"version":3,"sources":["components/oauth/sequelize/app.model.js"],"names":["module","exports","AppModel","sequelize","DataTypes","App","define","id","type","INTEGER","autoIncrement","primaryKey","allowNull","unique","name","STRING","validate","len","clientId","clientSecret","redirectUri","tableName","timestamps","classMethods","associate","db","hasMany","AccessToken","RefreshToken","belongsTo","User","foreignKey"],"mappings":";;AAEAA,OAAOC,OAAP,GAAiB,SAASC,QAAT,CAAkBC,SAAlB,EAA6BC,SAA7B,EAAwC;AACvD,MAAMC,MAAMF,UAAUG,MAAV,CAAiB,KAAjB,EAAwB;AAClCC,QAAI;AACFC,YAAMJ,UAAUK,OAAV,CAAkB,EAAlB,CADJ;AAEFC,qBAAe,IAFb;AAGFC,kBAAY,IAHV;AAIFC,iBAAW,KAJT;AAKFC,cAAQ;AALN,KAD8B;AAQlCC,UAAM;AACJN,YAAMJ,UAAUW,MAAV,CAAiB,GAAjB,CADF;AAEJC,gBAAU;AACRC,aAAK,CAAC,CAAD,EAAI,GAAJ;AADG,OAFN;AAKJL,iBAAW;AALP,KAR4B;AAelCM,cAAU;AACRV,YAAMJ,UAAUW,MAAV,CAAiB,EAAjB,CADE;AAERF,cAAQ,IAFA;AAGRG,gBAAU;AACRC,aAAK,CAAC,CAAD,EAAI,EAAJ;AADG,OAHF;AAMRL,iBAAW;AANH,KAfwB;AAuBlCO,kBAAc;AACZX,YAAMJ,UAAUW,MAAV,CAAiB,EAAjB,CADM;AAEZC,gBAAU;AACRC,aAAK,CAAC,CAAD,EAAI,EAAJ;AADG,OAFE;AAKZL,iBAAW;AALC,KAvBoB;AA8BlCQ,iBAAa;AACXZ,YAAMJ,UAAUW,MAAV,CAAiB,GAAjB,CADK;AAEXC,gBAAU;AACRC,aAAK,CAAC,CAAD,EAAI,GAAJ;AADG,OAFC;AAKXL,iBAAW;AALA;AA9BqB,GAAxB,EAqCT;AACDS,eAAW,MADV;AAEDC,gBAAY,IAFX;;AAIDC,kBAAc;AACZC,eADY,qBACFC,EADE,EACE;AACZpB,YAAIqB,OAAJ,CAAYD,GAAGE,WAAf;AACAtB,YAAIqB,OAAJ,CAAYD,GAAGG,YAAf;;AAEAvB,YAAIwB,SAAJ,CAAcJ,GAAGK,IAAjB,EAAuB;AACrBC,sBAAY;AADS,SAAvB;AAGD;AARW;AAJb,GArCS,CAAZ;;AAqDA,SAAO1B,GAAP;AACD,CAvDD","file":"app.model.js","sourcesContent":["\n\nmodule.exports = function AppModel(sequelize, DataTypes) {\n  const App = sequelize.define('App', {\n    id: {\n      type: DataTypes.INTEGER(14),\n      autoIncrement: true,\n      primaryKey: true,\n      allowNull: false,\n      unique: true,\n    },\n    name: {\n      type: DataTypes.STRING(255),\n      validate: {\n        len: [5, 255],\n      },\n      allowNull: false,\n    },\n    clientId: {\n      type: DataTypes.STRING(64),\n      unique: true,\n      validate: {\n        len: [8, 64],\n      },\n      allowNull: false,\n    },\n    clientSecret: {\n      type: DataTypes.STRING(64),\n      validate: {\n        len: [8, 64],\n      },\n      allowNull: false,\n    },\n    redirectUri: {\n      type: DataTypes.STRING(255),\n      validate: {\n        len: [5, 255],\n      },\n      allowNull: false,\n    },\n  }, {\n    tableName: 'apps',\n    timestamps: true,\n\n    classMethods: {\n      associate(db) {\n        App.hasMany(db.AccessToken);\n        App.hasMany(db.RefreshToken);\n\n        App.belongsTo(db.User, {\n          foreignKey: 'userId',\n        });\n      },\n    },\n  });\n\n  return App;\n};\n"]}