{"version":3,"sources":["components/hbs/index.js"],"names":["hbs","render","view","data","template","readFileSync","join","root","compile","defaults","fields","match","map","x","slice","filter","includes"],"mappings":";;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,IAAMA,MAAM;AACVC,QADU,kBACHC,IADG,EACGC,IADH,EACS;AACjB,QAAMC,WAAW,aAAGC,YAAH,CAAmB,eACjCC,IADiC,CAC5B,sBAAOC,IADqB,EACf,iCADe,CAAnB,SAC0CL,IAD1C,WACsD,MADtD,CAAjB;AAEA,WAAO,qBAAWM,OAAX,CAAmBJ,QAAnB,EAA6B,sBAAcJ,IAAIS,QAAJ,CAAaL,QAAb,KAA0B,EAAxC,EAA4CD,IAA5C,CAA7B,CAAP;AACD;AALS,CAAZ;;AAQAH,IAAIU,MAAJ,GAAa,UAACR,IAAD,EAAU;AACrB,MAAME,WAAW,aAAGC,YAAH,CAAmB,eACjCC,IADiC,CAC5B,sBAAOC,IADqB,EACf,iCADe,CAAnB,SAC0CL,IAD1C,WACsD,MADtD,CAAjB;AAEA,SAAOE,SAASO,KAAT,CAAe,aAAf,EAA8BC,GAA9B,CAAkC;AAAA,WAAKC,EAAEC,KAAF,CAAQ,CAAR,EAAW,CAAC,CAAZ,CAAL;AAAA,GAAlC,EAAuDC,MAAvD,CAA8D;AAAA,WAAK,CAACF,EAAEG,QAAF,CAAW,GAAX,CAAN;AAAA,GAA9D,CAAP;AACD,CAJD;;kBAMehB,G","file":"index.js","sourcesContent":["\nimport path from 'path';\nimport handlebars from 'handlebars';\nimport fs from 'fs';\n\nimport config from '../../config/environment';\n\nconst hbs = {\n  render(view, data) {\n    const template = fs.readFileSync(`${path\n      .join(config.root, 'server/components/hbs/templates')}/${view}.hbs`, 'utf8');\n    return handlebars.compile(template)(Object.assign(hbs.defaults[template] || {}, data));\n  },\n}\n\nhbs.fields = (view) => {\n  const template = fs.readFileSync(`${path\n    .join(config.root, 'server/components/hbs/templates')}/${view}.hbs`, 'utf8');\n  return template.match(/{([^{}]+)}/g).map(x => x.slice(1, -1)).filter(x => !x.includes(' '));\n};\n\nexport default hbs;\n"]}