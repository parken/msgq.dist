{"version":3,"sources":["config/sequelize.js"],"names":["fs","require","path","dotenv","pkg","root","normalize","__dirname","envFile","join","config","existsSync","env","parsed","console","log","version","process","NODE_ENV","settings","database","MYSQL_DB","username","MYSQL_USER","password","MYSQL_PASS","dialect","host","MYSQL_HOST","port","MYSQL_PORT","seederStorage","module","exports","development","production"],"mappings":";;AAAA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,SAASF,QAAQ,QAAR,CAAf;AACA,IAAMG,MAAMH,QAAQ,oBAAR,CAAZ;;AAEA,IAAMI,OAAOH,KAAKI,SAAL,CAAkBC,SAAlB,YAAb;AACA,IAAMC,UAAUN,KAAKO,IAAL,CAAUJ,IAAV,EAAgB,MAAhB,CAAhB;AACA,IAAIK,SAAS,EAAb;;AAEA,IAAIV,GAAGW,UAAH,CAAcH,OAAd,CAAJ,EAA4B;AAC1B,MAAMI,MAAMT,OAAOO,MAAP,CAAc,EAAER,MAAMM,OAAR,EAAd,CAAZ;AACAE,WAASE,IAAIC,MAAJ,IAAcD,GAAvB;AACD,CAHD,MAGO;AACLE,UAAQC,GAAR,sKAEiFX,IAAIY,OAFrF;AAKD;AACDC,QAAQL,GAAR,CAAYM,QAAZ,GAAuBD,QAAQL,GAAR,CAAYM,QAAZ,IAAwB,YAA/C;AACA,IAAMC,WAAW;AACfC,YAAUV,OAAOW,QAAP,IAAmB,QADd;AAEfC,YAAUZ,OAAOa,UAAP,IAAqB,MAFhB;AAGfC,YAAUd,OAAOe,UAAP,IAAqB,EAHhB;AAIfC,WAAS,OAJM;AAKfC,QAAMjB,OAAOkB,UAAP,IAAqB,WALZ;AAMfC,QAAMnB,OAAOoB,UAAP,IAAqB,IANZ;AAOfC,iBAAe;AAPA,CAAjB;;AAUAC,OAAOC,OAAP,GAAiB;AACfC,eAAaf,QADE;AAEfgB,cAAYhB;AAFG,CAAjB","file":"sequelize.js","sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst dotenv = require('dotenv');\nconst pkg = require('../../package.json');\n\nconst root = path.normalize(`${__dirname}/../..`);\nconst envFile = path.join(root, '.env');\nlet config = {};\n\nif (fs.existsSync(envFile)) {\n  const env = dotenv.config({ path: envFile });\n  config = env.parsed || env;\n} else {\n  console.log(`.env file not found.\n  Please create manually or visit http://localhost:3000\n  Learn more at check installation docs at https://github.com/parken/msgque/blob/${pkg.version}/docs/Installation.md\n  Trying to connect with default settings.\n  `);\n}\nprocess.env.NODE_ENV = process.env.NODE_ENV || 'production';\nconst settings = {\n  database: config.MYSQL_DB || 'msgque',\n  username: config.MYSQL_USER || 'root',\n  password: config.MYSQL_PASS || '',\n  dialect: 'mysql',\n  host: config.MYSQL_HOST || 'localhost',\n  port: config.MYSQL_PORT || 3306,\n  seederStorage: 'sequelize',\n};\n\nmodule.exports = {\n  development: settings,\n  production: settings,\n};\n"]}